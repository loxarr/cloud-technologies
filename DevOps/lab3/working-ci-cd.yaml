apiVersion: batch/v1
kind: Job
metadata:
  name: working-ci-cd-test
  namespace: ci-cd
spec:
  template:
    spec:
      containers:
      - name: test
        image: busybox:latest
        command: ["/bin/sh"]
        args: 
        - -c
        - |
          echo "ğŸš€ CI/CD Pipeline Test - STAGE 1"
          echo "================================"
          echo "âœ… Container is running!"
          echo "ğŸ“… Date: $(date)"
          echo "ğŸ  Hostname: $(hostname)"
          echo "ğŸ“ Working dir: $(pwd)"
          echo ""
          echo "ğŸš€ CI/CD Pipeline Test - STAGE 2" 
          echo "================================"
          echo "ğŸ“Š Listing root directory:"
          ls -la /
          echo ""
          echo "ğŸš€ CI/CD Pipeline Test - STAGE 3"
          echo "================================"
          echo "ğŸ‰ SUCCESS: All CI/CD stages completed!"
          echo "Kubernetes can successfully run containers"
          echo "This proves CI/CD pipeline would work"
      restartPolicy: Never
